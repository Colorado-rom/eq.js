/*! eq.js (with polyfills) v1.7.0 (c) 2013-2015 Sam Richard with thanks to the Financial Times, MIT license */
!function(){Object.getPrototypeOf||(Object.getPrototypeOf=function(t){if(t!==Object(t))throw new TypeError("Object.getPrototypeOf called on non-object");return t.constructor?t.constructor.prototype:null}),window.requestAnimationFrame||!function(t){"use strict";var e=(new Date).getTime(),n=e;t.requestAnimationFrame=function(t){var o=(new Date).getTime(),r=Math.max(0,16-(o-n));return n=o,setTimeout(function(){n=(new Date).getTime(),t(n-e)},r)},t.cancelAnimationFrame=function(t){clearTimeout(t)}}(this),function(){if(!("Event"in window))return!1;if("function"==typeof window.Event)return!0;try{return new Event("click"),!0}catch(t){return!1}}()||(this.Event=function(t,e){if(!t)throw new Error("Not enough arguments");var n=document.createEvent("Event"),o=e&&void 0!==e.bubbles?e.bubbles:!1,r=e&&void 0!==e.cancelable?e.cancelable:!1;return n.initEvent(t,o,r),n}),!1 in window&&("function"==typeof window.CustomEvent||window.CustomEvent.toString().indexOf("CustomEventConstructor")>-1)&&(this.CustomEvent=function(t,e){if(!t)throw Error('TypeError: Failed to construct "CustomEvent": An event name must be provided.');var n;e=e||{bubbles:!1,cancelable:!1,detail:null};try{n=document.createEvent("CustomEvent"),n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail)}catch(o){n=document.createEvent("Event"),n.initEvent(t,e.bubbles,e.cancelable),n.detail=e.detail}return n},CustomEvent.prototype=Event.prototype),!1 in window&&document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!0}))}),!1 in window&&!function(t){function e(t,n,o){var r,i=t.document&&t.currentStyle[n].match(/([\d\.]+)(%|cm|em|in|mm|pc|pt|)/)||[0,0,""],u=i[1],a=i[2];return o=o?/%|em/.test(a)&&t.parentElement?e(t.parentElement,"fontSize",null):16:o,r="fontSize"==n?o:/width/i.test(n)?t.clientWidth:t.clientHeight,"%"==a?u/100*r:"cm"==a?.3937*u*96:"em"==a?u*o:"in"==a?96*u:"mm"==a?.3937*u*96/10:"pc"==a?12*u*96/72:"pt"==a?96*u/72:u}function n(t,e){var n="border"==e?"Width":"",o=e+"Top"+n,r=e+"Right"+n,i=e+"Bottom"+n,u=e+"Left"+n;t[e]=(t[o]==t[r]&&t[o]==t[i]&&t[o]==t[u]?[t[o]]:t[o]==t[i]&&t[u]==t[r]?[t[o],t[r]]:t[u]==t[r]?[t[o],t[r],t[i]]:[t[o],t[r],t[i],t[u]]).join(" ")}function o(t){var o,r=this,i=t.currentStyle,u=e(t,"fontSize"),a=function(t){return"-"+t.toLowerCase()};for(o in i)if(Array.prototype.push.call(r,"styleFloat"==o?"float":o.replace(/[A-Z]/,a)),"width"==o)r[o]=t.offsetWidth+"px";else if("height"==o)r[o]=t.offsetHeight+"px";else if("styleFloat"==o)r.float=i[o];else if(/margin.|padding.|border.+W/.test(o)&&"auto"!=r[o])r[o]=Math.round(e(t,o,u))+"px";else if(/^outline/.test(o))try{r[o]=i[o]}catch(c){r.outlineColor=i.color,r.outlineStyle=r.outlineStyle||"none",r.outlineWidth=r.outlineWidth||"0px",r.outline=[r.outlineColor,r.outlineWidth,r.outlineStyle].join(" ")}else r[o]=i[o];n(r,"margin"),n(r,"padding"),n(r,"border"),r.fontSize=Math.round(u)+"px"}o.prototype={constructor:o,getPropertyPriority:function(){throw new Error("NotSupportedError: DOM Exception 9")},getPropertyValue:function(t){return this[t.replace(/-\w/g,function(t){return t[1].toUpperCase()})]},item:function(t){return this[t]},removeProperty:function(){throw new Error("NoModificationAllowedError: DOM Exception 7")},setProperty:function(){throw new Error("NoModificationAllowedError: DOM Exception 7")},getPropertyCSSValue:function(){throw new Error("NotSupportedError: DOM Exception 9")}},t.getComputedStyle=function(t){return new o(t)}}(this),Array.prototype.forEach||(Array.prototype.forEach=function(t){if(void 0===this||null===this)throw new TypeError(this+"is not an object");if(!(t instanceof Function))throw new TypeError(t+" is not a function");for(var e=Object(this),n=arguments[1],o=e instanceof String?e.split(""):e,r=Math.max(Math.min(o.length,9007199254740991),0)||0,i=-1;++i<r;)i in o&&t.call(n,o[i],i,e)})}(),function(t){"use strict";function e(){this.nodes=[],this.eqsLength=0,this.widths=[],this.points=[],this.callback=void 0}function n(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,function(){return n.call(t,window.event)})}function o(t){return window.getComputedStyle(t,":before").getPropertyValue("content").slice(1,-1)}var r=function(t,e){return[].slice.call(t).concat([].slice.call(e))};e.prototype.query=function(e,n){var r,i=Object.getPrototypeOf(t);n&&"function"==typeof n&&(i.callback=n),e&&"number"!=typeof e?r=e.length:(e=i.nodes,r=i.nodesLength);var u,a=[],c=[];for(u=0;r>u;u++){a.push(e[u].offsetWidth);try{c.push(i.sortObj(e[u].getAttribute("data-eq-pts")))}catch(s){try{c.push(i.sortObj(o(e[u])))}catch(l){c.push([{key:"",value:0}])}}}i.widths=a,i.points=c,e&&"number"!=typeof e?i.nodeWrites(e,a,c):n&&"function"!=typeof n?i.nodeWrites():window.requestAnimationFrame(i.nodeWrites)},e.prototype.nodeWrites=function(e){var n,o,r,i,u,a,c=Object.getPrototypeOf(t),s=c.widths,l=c.points;for(e&&"number"!=typeof e?i=e.length:(e=c.nodes,i=c.nodesLength),n=0;i>n;n++){var d=s[n],f=e[n],p=l[n],h=[],m=p.length;if(d<p[0].value)f.removeAttribute("data-eq-state"),a=new CustomEvent("eqResize",{detail:null});else if(d>=p[m-1].value){for(r=0;m>r;r++)h.push(p[r].key);f.setAttribute("data-eq-state",h.join(" ")),a=new CustomEvent("eqResize",{detail:h.join(" ")})}else for(o=0;m>o;o++){var v=p[o],w=p[o+1];if(h.push(v.key),0===o&&d<v.value){f.removeAttribute("data-eq-state"),a=new CustomEvent("eqResize",{detail:null});break}if(void 0===w.value){h.push(w.key),f.setAttribute("data-eq-state",h.join(" ")),a=new CustomEvent("eqResize",{detail:h.join(" ")});break}if(d>=v.value&&d<w.value){f.setAttribute("data-eq-state",h.join(" ")),a=new CustomEvent("eqResize",{detail:h.join(" ")});break}}f.dispatchEvent(a)}c.callback&&(u=c.callback,c.callback=void 0,u(e))},e.prototype.refreshNodes=function(){var e=Object.getPrototypeOf(t),n=[];e.nodes=document.querySelectorAll("[data-eq-pts]"),n=o(document.querySelector("html")).split(", "),n.forEach(function(t){""!==t&&(e.nodes=r(e.nodes,document.querySelectorAll(t)))}),e.nodesLength=e.nodes.length},e.prototype.sortObj=function(t){for(var e=[],n=t.split(","),o=0;o<n.length;o++){var r=n[o].split(":");e.push({key:r[0].replace(/^\s+|\s+$/g,""),value:parseFloat(r[1])})}return e.sort(function(t,e){return t.value-e.value})},t=t||new e,n(window,"DOMContentLoaded",function(){t.refreshNodes(),t.query(void 0,!0)}),n(window,"load",function(){t.refreshNodes(),t.query(void 0,!0)}),n(window,"resize",function(){t.refreshNodes(),window.requestAnimationFrame(t.query)}),"undefined"!=typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd?define(function(){return t}):window.eqjs=t}(window.eqjs);
//# sourceMappingURL=eq.polyfilled.min.js.map
!function(a){"use strict";function b(){this.nodes=[],this.eqsLength=0,this.widths=[],this.points=[]}for(var c,d=0,e=["webkit","moz"],f=0;f<e.length&&!window.requestAnimationFrame;++f)c=window[e[f]+"RequestAnimationFrame"];c||(c=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-d)),e=window.setTimeout(function(){a(b+c)},c);return d=b+c,e}),b.nodeReads=function(a){var d,e=[],f=[];for(d=0;d<b.nodesLength;d++){e.push(b.nodes[d].offsetWidth);try{f.push(JSON.parse(b.nodes[d].getAttribute("eq-pts")))}catch(g){f.push({})}}b.widths=e,b.points=f,a?b.nodeWrites():c(b.nodeWrites)},b.nodeWrites=function(){var a;for(a=0;a<b.nodesLength;a++){var c=b.widths[a],d=b.nodes[a],e=b.points[a],f=Object.keys(e),g=f.length,h=f[0],i=f[g-1];if(c<e[h])d.removeAttribute("eq-state");else if(c>=e[i])d.setAttribute("eq-state",i);else for(var j=0;g>j;j++){var k=f[j],l=f[j+1];if(0===j&&c<e[k]){d.removeAttribute("eq-state");break}if(void 0===l){d.setAttribute("eq-state",k);break}if(c>=e[k]&&c<e[l]){d.setAttribute("eq-state",k);break}}}},b.refreshNodes=function(){b.nodes=document.querySelectorAll("[eq-pts]"),b.nodesLength=b.nodes.length},b.sortObj=function(a){var b=[],c={};for(var d in a)a.hasOwnProperty(d)&&b.push({key:d,value:a[d]});b.sort(function(a,b){return a.value-b.value});for(var e=0;e<b.length;e++){var f=b[e];c[f.key]=f.value}return c},window.onload=function(){b.refreshNodes(),b.nodeReads(!0)},window.onresize=function(){b.refreshNodes(),c(b.nodeReads)},a=a||new b,"undefined"!=typeof module&&module.exports?module.exports=a:"function"==typeof define&&define.amd?define(function(){return a}):window.eqjs=a}(window.eqjs);
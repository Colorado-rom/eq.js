/*! eq.js v1.5.0 (c) 2014 Sam Richard, MIT license */
!function(e,t){"use strict";function n(){this.nodes=[],this.eqsLength=0,this.widths=[],this.points=[],this.callback=void 0}function o(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,function(){return n.call(e,window.event)})}function r(e){return window.getComputedStyle(e,":before").getPropertyValue("content").slice(1,-1)}"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="".__proto__===String.prototype?function(e){return e.__proto__}:function(e){return e.constructor.prototype});for(var i=0,a=["webkit","moz"],u=0;u<a.length&&!window.requestAnimationFrame;++u)window.requestAnimationFrame=window[a[u]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[a[u]+"CancelAnimationFrame"]||window[a[u]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){t=t;var n=(new Date).getTime(),o=Math.max(0,16-(n-i)),r=window.setTimeout(function(){e(n+o)},o);return i=n+o,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)});var s=function(e,t){return[].slice.call(e).concat([].slice.call(t))};n.prototype.query=function(t,n){var o,i=Object.getPrototypeOf(e);n&&"function"==typeof n&&(i.callback=n),t&&"number"!=typeof t?o=t.length:(t=i.nodes,o=i.nodesLength);var a,u=[],s=[];for(a=0;o>a;a++){u.push(t[a].offsetWidth);try{s.push(i.sortObj(t[a].getAttribute("data-eq-pts")))}catch(d){try{s.push(i.sortObj(r(t[a])))}catch(c){s.push([{key:"",value:0}])}}}i.widths=u,i.points=s,t&&"number"!=typeof t?i.nodeWrites(t,u,s):n&&"function"!=typeof n?i.nodeWrites():window.requestAnimationFrame(i.nodeWrites)},n.prototype.nodeWrites=function(t){var n,o,r,i=Object.getPrototypeOf(e),a=i.widths,u=i.points;for(t&&"number"!=typeof t?o=t.length:(t=i.nodes,o=i.nodesLength),n=0;o>n;n++){var s=a[n],d=t[n],c=u[n],f=c.length;if(s<c[0].value)d.removeAttribute("data-eq-state");else if(s>=c[f-1].value)d.setAttribute("data-eq-state",c[f-1].key);else for(var l=0;f>l;l++){var w=c[l],p=c[l+1];if(0===l&&s<w.value){d.removeAttribute("data-eq-state");break}if(void 0===p.value){d.setAttribute("data-eq-state",p.key);break}if(s>=w.value&&s<p.value){d.setAttribute("data-eq-state",w.key);break}}}i.callback&&(r=i.callback,i.callback=void 0,r(t))},n.prototype.refreshNodes=function(){var t=Object.getPrototypeOf(e),n=[];t.nodes=document.querySelectorAll("[data-eq-pts]"),n=r(document.querySelector("html")).split(", "),n.forEach(function(e){""!==e&&(t.nodes=s(t.nodes,document.querySelectorAll(e)))}),t.nodesLength=t.nodes.length},n.prototype.sortObj=function(e){for(var t=[],n=e.split(","),o=0;o<n.length;o++){var r=n[o].split(":");t.push({key:r[0].replace(/^\s+|\s+$/g,""),value:parseFloat(r[1])})}return t.sort(function(e,t){return e.value-t.value})},e=e||new n,t?t(function(){e.refreshNodes(),e.query(void 0,!0)}):o(window,"DOMContentLoaded",function(){e.refreshNodes(),e.query(void 0,!0)}),o(window,"load",function(){e.refreshNodes(),e.query(void 0,!0)}),o(window,"resize",function(){e.refreshNodes(),window.requestAnimationFrame(e.query)}),"undefined"!=typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):window.eqjs=e}(window.eqjs,window.domready);
//# sourceMappingURL=eq.min.js.map
